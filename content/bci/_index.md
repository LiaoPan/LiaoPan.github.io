---
title: "脑机接口系列 #1 快速入门"
date: 2023-05-31T09:24:13+08:00
draft: true
---



基本工作流程可以概括为，数据的预处理；提取每种条件，每个试次的大脑活动模式（beta map）；确定分析方法（全脑，感兴趣区，searchlight）；设计训练与测试矩阵，进行分类器的训练与测试及交叉验证；得到每个被试个体水平的结果后，进行组水平的分析。

预处理与提取每个试次的大脑活动是功能磁共振基本的数据处理的步骤，可以使用广大分析软件完成，在此不再赘述，注意通常做MVPA的预处理大家会选择不做平滑。

分析方法如上所述，有三种：

第一种，全脑的MVPA，这种我个人见的很少，在任务态中，大多数情况下，除非有特定的目标，也没有什么太大的价值，因为将fMRI重要的空间信息就给丢了，并且全脑上万个体素产生的维数灾难问题，需要进行正则化等操作来优化；

第二种，基于ROI（感兴趣区）的MVPA，这种在预处理中可以不做标准化，即可以在每个被试的个体空间上来做，个体水平分析的结果最后得到的各个ROI的分类准确率，组水平分析直接在各个ROI的维度上来做，然后多重比较校正采用FDR校正就可以了。这种分析的好处在于以一个ROI为一个功能整体，也不会存在一片显著的区域包括好几个脑区造成的结果解释上的困难，另外多重比较校正比下一种方式宽松一些。不足在于需要自己事先确定ROI，需要有充分的理论基础；与优点对应的是，那些需要跨脑区编码的信息就无法探测到了，另外，不同ROI之间由于参与分类的体素数量不同，无法相互比较。

第三种，searchlight MVPA，流程如图2，这种方法是在全脑或是给定的一个ROI，对其中每个体素进行分类器的训练与测试，当进行到某个体素的时候，它及其周围若干范围内的所有体素共同参与分类，所得到的测试结果算作是这个中心体素的成绩，这样就可以得到全脑所有体素的分类正确率。而由于每个被试每个条件都会得到一个全脑的成绩图，所以，组水平分析就可以像激活的方法一样做了（注意做之前要平滑一下）。这种方法的好处在于空间位置与脑区激活分析一样高，并且不需要预先选择感兴趣区，但是取一个体素周围多大范围进行分类没有一个很好的标准，为了保持空间信息，常常这个范围也不会很大，如果一个认知功能需要大范围脑区参与，那这一小片理应是无法提供足够信息的。

https://zhuanlan.zhihu.com/p/151227597 中文参考

https://fmrif.nimh.nih.gov/public/other-courses/mvpa

https://www.bsdlab.uni-freiburg.de/about-bci-and-brain-state-decoding


MVPA --》 mne 、 nilearn
https://nilearn.github.io/dev/decoding/index.html

https://mne.tools/stable/auto_tutorials/machine-learning/50_decoding.html 
https://andysbrainbook.readthedocs.io/en/latest/ML/ML_Short_Course/ML_05_Haxby_MVPA.html
